# 进程(Process)

- [返回](./README.md)

## 相关概念解释

- 概念

  进程（Process）是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。在早期面向进程设计的计算机结构中，进程是程序的基本执行实体；在当代面向线程设计的计算机结构中，进程是线程的容器。程序是指令、数据及其组织形式的描述，进程是程序的实体。

- 解释

  进程的概念主要有两点：第一，进程是一个实体。每一个进程都有它自己的地址空间，一般情况下，包括文本区域（text region）、数据区域（data region）和堆栈（stack region）。文本区域存储处理器执行的代码；数据区域存储变量和进程执行期间使用的动态分配的内存；堆栈区域存储着活动过程调用的指令和本地变量。第二，进程是一个“执行中的程序”。程序是一个没有生命的实体，只有处理器赋予程序生命时（操作系统执行之），它才能成为一个活动的实体，我们称其为进程。

- 特征

  动态性：进程的实质是程序在多道程序系统中的一次执行过程，进程是动态产生，动态消亡的。 并发性：任何进程都可以同其他进程一起并发执行 独立性：进程是一个能独立运行的基本单位，同时也是系统分配资源和调度的独立单位； 异步性：由于进程间的相互制约，使进程具有执行的间断性，即进程按各自独立的、不可预知的速度向前推进 结构特征：进程由程序、数据和进程控制块三部分组成。 参考[百度百科](https://baike.baidu.com/item/进程/382503)

- 程序 进程 线程 的定义和区别

  - 程序:

    计算机程序是一组计算机能识别和执行的指令，运行于电子计算机上，满足人们某种需求的信息化工具。

    它以某些程序设计语言编写，运行于某种目标结构体系上。

    一段静态的代码，一组指令的有序集合，它本身没有任何运行的含义，它只是一个静态的实体，是应用软件执行的蓝本。

  - 进程:

    进程是程序的运行实例

    是程序的一次动态执行，它对应着从代码加载，执行至执行完毕的一个完整的过程，是一个动态的实体

    它有自己的生命周期。它因创建而产生，因调度而运行，因等待资源或事件而被处于等待状态，因完成任务而被撤消。反映了一个程序在一定的数据 集上运行的全部动态过程。通过进程控制块(PCB)唯一的标识某个进程。同时进程占据着相应的资源（例如包括 cpu 的使用 ，轮转时间以及一些其它设备的权限）。是系统进行资源分配和调度的一个独立单位。

  - 线程:

    线程: 可以理解为进程的多条执行线索，每条线索又对应着各自独立的生命周期。线程是进程的一个实体,是 CPU 调度和分派的

    基本单位,它是比进程更小的能独立运行的基本单位。

- 进程的三种状态

  就绪状态: 进程已获得除处理器外的所需资源，等待分配处理器资源；只要分配了处理器进程就可执行。就绪进程可以按多个优先级来划分队列。例如，当一个进程由于时间片用完而进入就绪状态时，排入低优先级队列；当进程由 I/O 操作完成而进入就绪状态时，排入高优先级队列。 运行状态: 进程占用处理器资源；处于此状态的进程的数目小于等于处理器的数目。在没有其他进程可以执行时(如所有进程都在阻塞状态)，通常会自动执行系统的空闲进程。 阻塞状态: 由于进程等待某种条件（如 I/O 操作或进程同步），在条件满足之前无法继续执行。该事件
  发生前即使把处理器资源分配给该进程，也无法运行。

# Linux 进程相关查看命令

## 进程分类

- 前台进程

- 后台进程

- 守护进程

## 识别进程

- PID 进程 id 程序由它的进程 ID（PID）和它父进程的进程 ID（PPID）识别，因此进程可以被分类为：

  父进程 - 这些是在运行时创建其它进程的进程。 子进程 - 这些是在运行时由其它进程创建的进程。

- init 进程

  init 进程是系统中所有进程的父进程，它是启动 Linux 系统后第一个运行的程序；它管理着系统上的所有其它进程。它由内核自身启动，因此理论上说它没有父进程。

  init 进程的进程 ID 总是为 1。它是所有孤儿进程的收养父母。（它会收养所有孤儿进程）。

## 查找进程 id

- 你可以用 pidof 命令查找某个进程的进程 ID：

  ```sh
  pidof systemd
  pidof top
  pidof httpd
  ```

- 要查找当前 shell 的进程 ID 以及它父进程的进程 ID，可以运行:

  ```sh
  echo $$
  echo $PPID
  ```

## 后台执行进程

- **在命令后面添加 &**

  jobs 查看后台执行的程序

  你也可以使用 Ctrl + Z 暂停执行一个程序并把它发送到后台，它会给进程发送 SIGSTOP 信号，从而暂停它的执行；它就会变为空闲：

  要在后台继续运行上面被暂停的命令，使用 bg 命令

  要把后台进程发送到前台，使用 fg 命令以及任务的 ID，类似：

  ```sh
  jobs
  fg %1
  ```
