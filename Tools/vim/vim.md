# vim 的使用

## 常用命令

```sh
#打开文件
vim filename

#打开后，是普通模式


i 从当前位置进入光标前的位置编辑模式
I 进入行首
a 进入光标后的位置编辑模式
A 进入末尾
o 重新开启一行进入编辑模式

esc 推出编辑模式


在vim中有3中方法可以跳转到指定行（首先按esc进入命令行模式）：

ngg/nG （跳转到文件第n行，无需回车）

:n （跳转到文件第n行，需要回车）

vim +n filename （在打开文件后，跳转到文件的第n行）

dd 删除 1 行
ndd 删除多行

yy 复制
p 粘贴

在普通模式下

u 撤销

:w  保存

:w filename 另存为

:q 退出

:q! 强制退出


b 跳到上一个字
B 跳到上一个字，长跳

w 跳到下一个字首，按标点或单词分割
W 跳到下一个字首，长跳，如end-of-line被认为是一个字

e 跳到下一个字尾
E 跳到下一个字尾，长跳


D删除到行末

x删除当前字符

X删除前一个字符

yy复制一行

yw复制一个字

y/Y 复制到行末

p 粘贴粘贴板的内容到当前行的下面

P 粘贴粘贴板的内容到当前行的上面

:%s/old/new/g 搜索整个文件，将所有的old替换为new
:%s/old/new/gc 搜索整个文件，将所有的old替换为new，每次都要你确认是否替换


vim操作多行的方法

vim 文件
#进入行模式
ctrl + v 
# 上下移动图标
 h j k l 或者 上下左右键盘

 输入 d 删除选中的内容

 输入 i 输入相关内容后 按 esc 退出键 会发现修改生效

 vim 左右移动

 ctrl + >>

 ctrl + <<


 cc 修改当前光标位置的内容

 nC 修改光标开始到第n行的内容


- 行操作命令

    m,n co x m到n之间的内容复制到x行之后
    m,n m y  m到n之间的内容复制到y行之后
    m,n d    m到n行之间的内容删除

#vim全选
ggvG


#删除匹配到的行
# 全局删除匹配到的行
:g/pattern/d
# 删除第1-10行里的匹配到的行
:1,10g/pattern/d
# 删除不包含指定字符的行
:v/pattern/d
#或
:g!/pattern/d



```

- 行级移动

0         移动光标到当前行行首
$         移动光标到当前行行尾
^         移动光标到当前行的第一个非空字符
nG       移动光标到当前文件的第n行
:n       移动光标到当前文件的第n行 (同上)

tips：

(1) Vim的命令中，0 表示行首，$ 表示行尾。可以回顾下Vim文本编辑命令汇总中提到的删除命令，里面就提到了0和$

(2) 移动光标到当前文件的第n行使用的命令:n是在vim尾行模式下执行的，所以输入完:n后需要按回车键执行命令

- 匹配单词级移动
*        移动光标到 [匹配] 光标当前所在单词的下一个单词
#        移动光标到 [匹配] 光标当前所在单词的上一个单词

2.6 匹配括号移动
%        移动光标到括号左半部分( 包括(、{、[ )对应右半匹配部分( )、}、] )
